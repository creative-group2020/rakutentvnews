$((function(){function makeMenu(){var idcount=1,menu="",currentlevel=0;for($(".rakutentv-news-article-main-wysiwyg h2, .rakutentv-news-article-main-wysiwyg h3").each((function(i){this.id="chapter-"+idcount,idcount++;var level=0;for("h2"==this.nodeName.toLowerCase()?level=1:"h3"==this.nodeName.toLowerCase()&&(level=2);currentlevel<level;)menu+="<ol>",currentlevel++;for(;currentlevel>level;)menu+="</ol>",currentlevel--;menu+='<li><a href="#'+this.id+'">'+$(this).text()+"</a></li>\n"}));currentlevel>0;)menu+="</ol>",currentlevel--;strMenu=menu,$(".rakutentv-news-article-main-menu-list").html(strMenu);var smoothScroll={target:$('.scroll-top-btn a[href^="#"], .rakutentv-news-article-main-menu-list ol li a[href^="#"]'),target2:$("html, body"),speed:500,ankerGap:80,transition:"swing",init:function(){this.target.on("click",(function(){return href=$(this).attr("href"),$target=$("#"==href||""==href?"html":href),targetPosition=$target.offset().top-smoothScroll.ankerGap,smoothScroll.target2.animate({scrollTop:targetPosition},smoothScroll.speed,smoothScroll.transition),!1}))}};smoothScroll.init()}makeMenu()})),$((function(){"use strict";var blankLink_init,addScid_init;(function(){$("a[href^=https]").not('[href*="'+location.hostname+'"]').attr("target","_blank")})(),$(".rakutentv-news-article-main-wysiwyg a[href^=https], .rakutentv-news-ad a[href^=https]").each((function(){var obj=$(this),link=obj.attr("href"),pathname=location.pathname.split("/"),filename=pathname[pathname.length-1],filename2=filename.split(".")[0];filename&&(link.match("/?scid")||obj.attr("href",link+"?scid=wi_tvn_"+filename2))}));var clickActive={keyElm:$(".key_elm"),hdnElm:$(".hdn_elm"),init:function(){this.keyElm.on("click",(function(){$(this).hasClass("active")?(clickActive.keyElm.removeClass("active"),clickActive.hdnElm.removeClass("active"),$("body").css("overflow","visible")):(clickActive.keyElm.addClass("active"),clickActive.hdnElm.addClass("active"),$("body").css("overflow","hidden"))}))}};clickActive.init();var menuToggle={target:$(".menu_toggle_btn"),target2:$(".menu_toggle"),init:function(){this.target.on("click",(function(){$(this).hasClass("close")?($(this).removeClass("close"),menuToggle.target2.removeClass("close")):($(this).addClass("close"),menuToggle.target2.addClass("close"))}))}},changeImg;menuToggle.init(),{targetUrl:$(".block-img-url"),targetRtvid:$(".block-img-rtvid"),init:function(){this.preparaUrl(),this.targetUrl.css("display","block"),this.preparaRtvid(),this.targetRtvid.css("display","block")},preparaUrl:function(){this.targetUrl.each((function(){var value,splitSpace=$(this).text().split(/\s+/),splitImgId=splitSpace[0],splitImgCaption=splitSpace[1];if(splitImgCaption)var imgUrl='<figure><img src="'+splitImgId+'"><figcaption><span>'+splitImgCaption+"</span></figcaption></figure>";else var imgUrl='<img src="'+splitImgId+'">';$(this).html(imgUrl)}))},preparaRtvid:function(){this.targetRtvid.each((function(){var value,splitSpace=$(this).text().split(/\s+/),splitImgId=splitSpace[0],splitImgCaption=splitSpace[1];if(splitImgCaption)var imgUrl='<figure><img src="https://im.akimg.tv.rakuten.co.jp/content/'+splitImgId.substr(-3,1)+splitImgId.substr(-4,1)+"/"+splitImgId.substr(-1,1)+splitImgId.substr(-2,1)+"/"+splitImgId+'/main.jpg"><figcaption><span>'+splitImgCaption+"</span></figcaption></figure>";else var imgUrl='<img src="https://im.akimg.tv.rakuten.co.jp/content/'+splitImgId.substr(-3,1)+splitImgId.substr(-4,1)+"/"+splitImgId.substr(-1,1)+splitImgId.substr(-2,1)+"/"+splitImgId+'/main.jpg">';$(this).html(imgUrl)}))}}.init();var addFixed={class:"fixed",target:$(".scroll-top, .fix"),fllowTop:1e3,offset:0,headerHight:0,scrollPos:0,init:function(){$(window).on("scroll load",(function(){addFixed.scrollEvent()})),$("body").on("touchmove",(function(){addFixed.scrollEvent()}))},scrollEvent:function(){this.scrollPos=$(window).scrollTop(),this.scrollPos>this.offset?this.target.addClass(this.class):this.target.removeClass(this.class)}};addFixed.init();var smoothScrollMain={target:$('.scroll-top-btn a[href^="#"]'),target2:$("html, body"),speed:500,ankerGap:0,transition:"swing",init:function(){this.target.on("click",(function(){return href=$(this).attr("href"),$target=$("#"==href||""==href?"html":href),targetPosition=$target.offset().top-smoothScrollMain.ankerGap,smoothScrollMain.target2.animate({scrollTop:targetPosition},smoothScrollMain.speed,smoothScrollMain.transition),!1}))}},relationSwiper=new Swiper(".relation_swiper",{slidesPerView:2.2,spaceBetween:32,breakpoints:{1024:{slidesPerView:2.4,spaceBetween:16},767:{slidesPerView:1.2,spaceBetween:16}}})})),$(window).on("load",(function(){var jk3Unit_init,rankletcolsNone_init;(function(){let jk3UnitTarget,stringArray=$(".rakutentv-news-jk3-main p").text().split(","),jk3UnitHtml="";var pathname=location.pathname.split("/"),filename,filename2=pathname[pathname.length-1].split(".")[0];$.each(stringArray,(function(index,val){jk3UnitHtml+='<div class="rakutentv-news-jk3-main-box"><div class="rakutentv-news-jk3-main-box-img"><a href="https://tv.rakuten.co.jp/content/'+val+"/?scid=wi_tvn_"+filename2+'_jk3_img" target="_blank" rel="noopener"><img src="https://im.akimg.tv.rakuten.co.jp/content/'+val.substr(-3,1)+val.substr(-4,1)+"/"+val.substr(-1,1)+val.substr(-2,1)+"/"+val+'/jacket_h_l.jpg" width="150" border="0"></a></div><div class="rakutentv-news-jk3-main-box-btn"><a href="https://tv.rakuten.co.jp/content/'+val+"/?scid=wi_tvn_"+filename2+'_jk3_link" target="_blank" rel="noopener"><span>詳細を見る</span></a></div></div>'})),$(".rakutentv-news-jk3-main p").remove(),$(".rakutentv-news-jk3-main").append(jk3UnitHtml)})(),$("#ranklet-11692").is(":contains('無料で人気ランキング表示')")&&$("[class^='ranklet-']").css("display","none");var rankletcols})),$((function(){if($(".rakutentv-news-article-img-slider").length){var images=$(".rakutentv-news-article-img-slider img"),result=[],i,src;for($(".rakutentv-news-article-img-slider p").remove(),$(".rakutentv-news-article-img-slider").append('<div class="swiper-container article_img_swiper"><div class="swiper-wrapper">'),$(".rakutentv-news-article-img-slider").append('<div class="rakutentv-news-article-img-slider-thumb"><ul>'),i=0;i<images.length;i++)src=images[i].getAttribute("src"),ii=i+1,result.indexOf(src)<0&&($(".article_img_swiper .swiper-wrapper").append('<div class="swiper-slide"><div class="rakutentv-news-article-img-slider-box" style="background-image:url('+src+');"></div></div>'),$(".rakutentv-news-article-img-slider-thumb ul").append('<li style="background-image:url('+src+');"><a class="thumb-link" href="javascript:void(0);" onclick="slideThumb('+ii+')"></a></li>'));var articleImgSwiper=new Swiper(".article_img_swiper",{speed:600,loop:!0});function slideThumb(index){articleImgSwiper.slideTo(index)}}})),$((function(){$(".rakutentv-news-rank").css("display","none");var ua=navigator.userAgent,agent=window.navigator.userAgent.toLowerCase(),ipad=agent.indexOf("ipad")>-1||agent.indexOf("macintosh")>-1&&"ontouchend"in document;$(window).on("scroll load",(function(){if($(".rakutentv-news-rank").css("display","block"),ua.indexOf("iPhone")>0||ua.indexOf("Android")>0&&ua.indexOf("Mobile")>0)var swiper=new Swiper(".rank_swiper",{slidesPerView:1.2});else if(!0===ipad)var swiper=new Swiper(".rank_swiper",{slidesPerView:1,breakpoints:{768:{slidesPerView:2.4}}})}))})),$((function(){if($(".rakutentv-news-article").hasClass("type1")){function imgAutoLink(){var array=[],extractTarget=$(".rakutentv-news-article-main-wysiwyg h3 a"),nextAddTarget=$(".rakutentv-news-article-main-wysiwyg h3");extractTarget.each((function(i){text='<a href="'+$(this).attr("href")+"_imglink_"+(i+1)+'" alt="'+$(this).text()+(i+1)+'" target="_blank"></a>',array.push(text)}));for(var i=0;i<nextAddTarget.length;i++)nextAddTarget.eq(i).next().wrapInner(array[i])}imgAutoLink()}})),$((function(){const buttons=document.querySelectorAll(".ripple");buttons.forEach(button=>{button.addEventListener("click",(function(e){const x=e.clientX,y=e.clientY,buttonTop=e.target.offsetTop,buttonLeft=e.target.offsetLeft,xInside=x-buttonLeft,yInside=y-buttonTop,circle=document.createElement("span");circle.classList.add("circle"),circle.style.top=yInside+"px",circle.style.left=xInside+"px",this.appendChild(circle),setTimeout(()=>circle.remove(),500)}))})}));